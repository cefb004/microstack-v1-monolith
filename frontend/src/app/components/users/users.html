<mat-toolbar color="primary">
  <span>MicroStack-J Frontend</span>
</mat-toolbar>

<div class="container">
  <mat-card class="form-card">
    <h2>Cadastro de Usuário</h2>

    <form [formGroup]="userForm" (ngSubmit)="addUser()">
      <mat-form-field appearance="fill" class="form-field">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="name" placeholder="Digite o nome" />
      </mat-form-field>

      <mat-form-field appearance="fill" class="form-field">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" placeholder="Digite o email" />
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit" [disabled]="userForm.invalid">
        Incluir Usuário
      </button>
    </form>
  </mat-card>

  <mat-card class="list-card">
    <h2>Lista de Usuários</h2>
    <div *ngIf="isLoading">Carregando...</div>
    <div *ngIf="errorMessage">{{ errorMessage }}</div>

    <mat-list>
      <mat-list-item *ngFor="let user of users">
        {{ user.name }} — {{ user.email }}
        <button mat-icon-button color="warn" (click)="deleteUser(user.id)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-list-item>
    </mat-list>

    <div *ngIf="users.length === 0 && !isLoading">Nenhum usuário encontrado.</div>
  </mat-card>
</div>

